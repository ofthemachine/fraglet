# Release v0.2.0

## Key Highlights
Major update with improved documentation commands, simplified configuration, and dynamic usage generation.

## âœ¨ New Features

### Dynamic Usage Documentation
- **`usage` command**: Generates container usage documentation dynamically from configuration
  - Shows docker run commands with correct mount paths
  - Displays injection details (code path, marker location)
  - Includes functional examples with code from target files
  - Always available, even without static documentation files

### Simplified Command Structure
- **`guide` command**: Replaces `agent-help` - displays static authoring guide for writing fraglets
- **`usage` command**: Replaces `how-to` - displays dynamic container usage documentation
- Clear separation: `usage` = running containers (dynamic), `guide` = authoring fraglets (static)

## ğŸ”„ Breaking Changes

### Command Renames
- `agent-help` â†’ `guide` (static authoring documentation)
- `how-to` â†’ `usage` (dynamic container usage)
- `how-to` command removed entirely

### Configuration Changes
- Config file renamed: `fraglet-entrypoint.yaml` â†’ `fraglet.yaml` (or `fraglet.yml`)
  - Config lookup checks both `.yaml` and `.yml` extensions
  - Default path: `/fraglet.yaml`
- Config field renamed: `agentHelp` â†’ `guide`
- Config field removed: `howTo` (replaced by dynamic `usage` command)
- Default guide path: `/guide.md` (was `/agent-help.md`)

## ğŸ”§ Configuration

### Updated Config File Format

```yaml
fragletTempPath: /FRAGLET
injection:
  codePath: /path/to/target-script.sh
  match: FRAGLET
guide: /guide.md
execution:
  path: /path/to/target-script.sh
  makeExecutable: true
```

### Config File Lookup
1. `FRAGLET_CONFIG` environment variable (if set)
2. `fraglet.yaml` or `fraglet.yml` as sibling to binary
3. `/fraglet.yaml` (default)

## ğŸ“ Usage Examples

### View Container Usage
```bash
docker run --rm <container> usage
```

### View Authoring Guide
```bash
docker run --rm <container> guide
```

## ğŸ› Improvements

- Mount paths in usage output are normalized to absolute paths for clarity
- Usage examples show only the code at marker locations, not entire files
- Better error handling when documentation files are missing
- Improved functional examples in usage output

## ğŸ“š Migration Guide

### Updating Config Files

**Before (v0.1.0):**
```yaml
agentHelp: /agent-help.md
howTo: /how-to.md
```

**After (v0.2.0):**
```yaml
guide: /guide.md
# usage is now dynamic, no config needed
```

### Updating Container Commands

**Before:**
```bash
docker run <container> agent-help
docker run <container> how-to
```

**After:**
```bash
docker run <container> guide
docker run <container> usage
```

### Renaming Config Files

Rename `fraglet-entrypoint.yaml` to `fraglet.yaml` (or `fraglet.yml`).

## Quick Start

```bash
# Download the binary for your platform
# Extract and place in your container

# Create a fraglet.yaml configuration
cat > fraglet.yaml <<EOF
fragletTempPath: /FRAGLET
injection:
  codePath: /path/to/script.sh
  match: FRAGLET
guide: /guide.md
execution:
  path: /path/to/script.sh
  makeExecutable: true
EOF

# Use as container entrypoint
ENTRYPOINT ["/usr/local/bin/fraglet-entrypoint"]
```

